<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebComedor - Dashboard</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <style>
        body { font-size: .875rem; }
        .sidebar { 
            background-color: #f8f9fa; 
            min-height: 100vh; 
            border-right: 1px solid #dee2e6; 
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
        }
        .nav-link { color: #333; font-weight: 500; margin-bottom: 5px; border-radius: 5px; }
        .nav-link:hover { background-color: #e9ecef; color: #0d6efd; }
        .nav-link.active { color: #0d6efd; background-color: #e7f1ff; }
        .nav-link i { margin-right: 10px; }
        
        /* Colores de las tarjetas del Dashboard */
        .card-asistencia { border-left: 5px solid #0d6efd; }
        .card-pagos { border-left: 5px solid #ffc107; }
        .card-ingresos { border-left: 5px solid #198754; }
        .card-egresos { border-left: 5px solid #dc3545; }
    </style>
</head>
<body>
    <nav class="col-md-3 col-lg-2 d-none d-md-block sidebar py-4 position-fixed">
        <div class="text-center mb-4">
            <i class="bi bi-house-door-fill fs-1 text-primary"></i>
            <h5 class="mt-2">WebComedor</h5>
            <hr>
        </div>
    
        <ul class="nav flex-column px-3 sidebar-menu">
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
                href="{% url 'dashboard' %}">
                    <i class="bi bi-speedometer2"></i> Inicio
                </a>
            </li>
    
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'crear_beneficiario' %}active{% endif %}"
                href="{% url 'crear_beneficiario' %}">
                    <i class="bi bi-plus-circle-fill"></i> Nuevo Beneficiario
                </a>
            </li>
    
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'gestion_asistencia' %}active{% endif %}"
                href="{% url 'gestion_asistencia' %}">
                    <i class="bi bi-check-circle"></i> Asistencia
                </a>
            </li>
    
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'gestion_pagos' %}active{% endif %}"
                href="{% url 'gestion_pagos' %}">
                    <i class="bi bi-cash-stack"></i> Pagos
                </a>
            </li>
    
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'finanzas' %}active{% endif %}"
                href="{% url 'finanzas' %}">
                    <i class="bi bi-graph-up"></i> Contabilidad
                </a>
            </li>
    
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'reporte_asistencia' %}active{% endif %}"
                href="{% url 'reporte_asistencia' %}">
                    <i class="bi bi-file-bar-graph"></i> Reporte Mensual
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'panel_inventario' %}">
                    <i class="bi bi-box-seam me-2"></i> Inventario
                    {% if total_alertas > 0 %}
                        <span class="badge rounded-pill bg-danger ms-1">{{ total_alertas }}</span>
                    {% endif %}
                </a>
            </li>
            <hr>
            <div class="px-3 mt-auto">
                <a href="{% url 'logout' %}" class="btn btn-outline-danger w-100 d-flex align-items-center justify-content-center">
                <i class="bi bi-box-arrow-right me-2"></i> Cerrar Sesi√≥n
            </a>
</div>

            
        </ul>
    </nav>
    

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">
                {% block content %}
                {% endblock %}
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>